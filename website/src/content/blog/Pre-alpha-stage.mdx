---
title: "Pre-alpha stage"
description: "Current stage of Ferret and its progress towards the alpha version."
pubDate: 2025-12-17
tags: [updates]
---

Ferret has officially moved past the **pre-alpha** milestone.

In practice, this means the core compilation pipeline is now usable end-to-end for a growing subset of the language: you can write `.fer`, compile it, and start validating real programs while we stabilize the remaining pieces needed for a proper alpha release.

> **Status note:** ‚ÄúPre-alpha passed‚Äù does not mean ‚Äúfeature-complete‚Äù. It means the project is now stable enough to begin *alpha-style* testing: exercising the compiler on real inputs, iterating quickly, and turning failures into actionable issues.

## Roadmap at a glance

```d2
direction: right

style: {
  stroke: "#3b82f6"
  stroke-width: 3
}

pre: "Pre-alpha\\n‚úÖ Passed\\n\\nBuilt-ins expanded\\nInput architecture stabilized" {
  style.fill: "#e8f5e9"
  style.stroke: "#16a34a"
}

preview: "Alpha preview (now)\\nüß™ Testing\\n\\nTry real programs\\nReport diagnostics + wrong-code" {
  style.fill: "#fff7ed"
  style.stroke: "#f97316"
}

alpha: "Alpha\\nStabilization\\n\\nMap codegen\\nResult E!T\\nCatch\\nRuntime integration" {
  style.fill: "#eff6ff"
  style.stroke: "#3b82f6"
}

post: "Post-alpha\\nWASM pipeline\\n\\nTowards executable generation" {
  style.fill: "#f5f3ff"
  style.stroke: "#8b5cf6"
}

pre -> preview -> alpha -> post
```

## Compiler phases (simplified)

```d2
direction: right

parse: "Parse\\n(lexer + AST)"
collect: "Collect\\n(decls + scopes)"
resolve: "Resolve\\n(names + imports)"
typecheck: "Type-check\\n(infer + validate)"
cfg: "CFG\\n(flow analysis)"
codegen: "Codegen\\n(emit C)"
runtime: "Runtime\\n(headers + helpers)"

parse -> collect -> resolve -> typecheck -> cfg -> codegen -> runtime
```

## What changed since pre-alpha

- **Built-in types expanded**: more of the ‚Äústandard toolbox‚Äù is now available to write non-trivial examples without workarounds.
- **Input architecture stabilized**: the parser/input layer has been consolidated so we can iterate on syntax and codegen together with fewer breaking changes.
- **Alpha preview opened**: you can start testing the current alpha build and report gaps, bugs, and ergonomics issues.

> **Annotation (scope):** this post is a progress snapshot, not a full changelog. Deeper design details live in the architecture post and the main docs.

## Alpha preview: how to try it

If you want to test the current alpha build locally, the quickest path is to build the compiler and run it on one of the repo examples.

**Linux/macOS**

```bash
./scripts/build-all.sh
./bin/ferret examples/hello.fer
```

**Windows**

```batch
scripts\build-all.bat
bin\ferret.exe examples\hello.fer
```

> **Note:** command-line flags must come before the input file (example: `./bin/ferret -o myprog examples/hello.fer`).

## Work in progress

This is what we‚Äôre actively finishing to make ‚Äúalpha‚Äù feel coherent and testable.

### Codegen

- **Map**
  - Emit consistent map operations and runtime calls across targets.
  - Validate performance and memory behavior with a few representative workloads.
- **Result `E!T`**
  - Make `E!T` flow reliably through function signatures, returns, and propagation patterns.
  - Ensure diagnostics are clear when error/success branches are mixed incorrectly.
- **Catch**
  - Finalize the semantics and lower it into straightforward codegen.
  - Ensure interactions with `E!T` stay predictable (especially in nested contexts).

### Architecture

- **Input syntax + codegen**
  - Keep syntax changes coupled to codegen to avoid ‚Äúparses but doesn‚Äôt compile‚Äù states.
  - Reduce the number of special cases in lowering by keeping the AST and typed IR aligned.
- **Runtime integration**
  - Tighten the boundary between compiler-emitted code and runtime helpers.
  - Make sure the runtime surface stays small and intentional as features land.

> **Annotation (testing focus):** the most valuable reports right now are (1) wrong-code bugs, (2) confusing error messages, and (3) cases where a feature works in type-checking but fails later in the pipeline.

## After alpha

- **WASM support ‚Üí executable generation**
  - Extend the current WASM pipeline beyond ‚Äúmodule output‚Äù toward a full executable/story for running compiled programs.

## Feedback

If you hit something unclear while testing the alpha preview, please include:

- The smallest `.fer` snippet that reproduces the issue
- The command you ran (`./bin/ferret ...`)
- The full compiler output (errors/warnings)
