// Comprehensive 256-bit number test
import "std/io";

fn main() {
    io::Println("=== 256-bit Integer Tests ===");
    
    // ========== i256 Tests ==========
    io::Println("\n--- i256 Tests ---");
    
    // 1. Declaration and literal assignment
    let a: i256 = 123456789012345678901234567890;
    io::Println("1. i256 literal: " + a);
    
    // 2. Basic arithmetic: addition
    let b: i256 = 100;
    let sum := a + b;
    io::Println("2. i256 add: " + sum);
    
    // 3. Basic arithmetic: subtraction
    let diff := a - b;
    io::Println("3. i256 sub: " + diff);
    
    // 4. Basic arithmetic: multiplication
    let c: i256 = 2;
    let prod := b * c;
    io::Println("4. i256 mul: " + prod);
    
    // 5. Basic arithmetic: division
    let quot := b / c;
    io::Println("5. i256 div: " + quot);
    
    // 6. Basic arithmetic: modulo
    let d: i256 = 7;
    let mod := b % d;
    io::Println("6. i256 mod: " + mod);
    
    // 6b. Power operation
    let base: i256 = 2;
    let exp: i256 = 10;
    let pow := base ** exp;
    io::Println("6b. i256 pow 2**10: " + pow);
    
    // 7. Comparison: equality
    let e: i256 = 100;
    if b == e {
        io::Println("7. i256 == : PASS");
    } else {
        io::Println("7. i256 == : FAIL");
    }
    
    // 8. Comparison: less than
    if b < a {
        io::Println("8. i256 <  : PASS");
    } else {
        io::Println("8. i256 <  : FAIL");
    }
    
    // 9. Comparison: greater than
    if a > b {
        io::Println("9. i256 >  : PASS");
    } else {
        io::Println("9. i256 >  : FAIL");
    }
    
    // 10. Negation
    let neg := -b;
    io::Println("10. i256 neg: " + neg);
    
    // 11. Increment
    let f: i256 = 10;
    f++;
    io::Println("11. i256 ++: " + f);
    
    // 12. Decrement
    f--;
    io::Println("12. i256 --: " + f);
    
    // 13. Compound assignment +=
    f += c;
    io::Println("13. i256 +=: " + f);
    
    // 14. Compound assignment -=
    f -= c;
    io::Println("14. i256 -=: " + f);
    
    // 15. Compound assignment *=
    f *= c;
    io::Println("15. i256 *=: " + f);
    
    // 16. Compound assignment /=
    f /= c;
    io::Println("16. i256 /=: " + f);
    
    // ========== u256 Tests ==========
    io::Println("\n--- u256 Tests ---");
    
    // 17. Declaration and literal assignment
    let ua: u256 = 999999999999999999999999999999;
    io::Println("17. u256 literal: " + ua);
    
    // 18. Basic arithmetic: addition
    let ub: u256 = 1;
    let usum := ua + ub;
    io::Println("18. u256 add: " + usum);
    
    // 19. Basic arithmetic: subtraction
    let udiff := usum - ub;
    io::Println("19. u256 sub: " + udiff);
    
    // 20. Basic arithmetic: multiplication
    let uc: u256 = 2;
    let uprod := ub * uc;
    io::Println("20. u256 mul: " + uprod);
    
    // 21. Basic arithmetic: division
    let ud: u256 = 100;
    let uquot := ud / uc;
    io::Println("21. u256 div: " + uquot);
    
    // 22. Basic arithmetic: modulo
    let ue: u256 = 7;
    let umod := ud % ue;
    io::Println("22. u256 mod: " + umod);
    
    // 22b. Power operation
    let ubase: u256 = 3;
    let uexp: u256 = 20;
    let upow := ubase ** uexp;
    io::Println("22b. u256 pow 3**20: " + upow);
    
    // 23. Comparison: equality
    let uf: u256 = 100;
    if ud == uf {
        io::Println("23. u256 == : PASS");
    } else {
        io::Println("23. u256 == : FAIL");
    }
    
    // 24. Comparison: less than
    if ub < ua {
        io::Println("24. u256 <  : PASS");
    } else {
        io::Println("24. u256 <  : FAIL");
    }
    
    // 25. Comparison: greater than
    if ua > ub {
        io::Println("25. u256 >  : PASS");
    } else {
        io::Println("25. u256 >  : FAIL");
    }
    
    // ========== f256 Tests ==========
    io::Println("\n--- f256 Tests ---");
    
    // 26. Declaration and literal assignment
    let fa: f256 = 3.141592653589793238462643383279502884197;
    io::Println("26. f256 literal: " + fa);
    
    // 27. Basic arithmetic: addition
    let fb: f256 = 1.0;
    let fsum := fa + fb;
    io::Println("27. f256 add: " + fsum);
    
    // 28. Basic arithmetic: subtraction
    let fdiff := fsum - fb;
    io::Println("28. f256 sub: " + fdiff);
    
    // 29. Basic arithmetic: multiplication
    let fc: f256 = 2.0;
    let fprod := fa * fc;
    io::Println("29. f256 mul: " + fprod);
    
    // 30. Basic arithmetic: division
    let fquot := fa / fc;
    io::Println("30. f256 div: " + fquot);
    
    // 30b. Power operation
    let fbase: f256 = 2.0;
    let fexp: f256 = 0.5;
    let fpow := fbase ** fexp;
    io::Println("30b. f256 pow 2.0**0.5 (sqrt): " + fpow);
    
    // ========== Type Casting Tests ==========
    io::Println("\n--- Type Casting Tests ---");
    
    // 31. i32 to i256
    let i32val: i32 = 42;
    let i256from32 := i32val as i256;
    io::Println("31. i32 -> i256: " + i256from32);
    
    // 32. i64 to i256
    let i64val: i64 = 9223372036854775807;
    let i256from64 := i64val as i256;
    io::Println("32. i64 -> i256: " + i256from64);
    
    // 33. i256 to i64 (truncation)
    let smallI256: i256 = 12345;
    let i64fromI256 := smallI256 as i64;
    io::Println("33. i256 -> i64: " + i64fromI256);
    
    // ========== Array Tests ==========
    io::Println("\n--- Array Tests ---");
    
    // 34. Fixed array of i256
    let arr: [3]i256 = [1, 2, 3];
    io::Println("34. [3]i256 array: " + arr[0] + ", " + arr[1] + ", " + arr[2]);
    
    // 35. Dynamic array of i256
    let darr: []i256 = [10, 20, 30];
    io::Println("35. []i256 array: " + darr[0] + ", " + darr[1] + ", " + darr[2]);
    
    // ========== Function Tests ==========
    io::Println("\n--- Function Tests ---");
    
    // 36. Pass i256 to function and return
    let result := addI256(a, b);
    io::Println("36. fn(i256) -> i256: " + result);
    
    // ========== Struct Tests ==========
    io::Println("\n--- Struct Tests ---");
    
    // 37. Struct with i256 field
    let point: BigPoint = { .X = 100, .Y = 200 };
    io::Println("37. struct with i256: x=" + point.X + ", y=" + point.Y);
    
    // ========== Loop Tests ==========
    io::Println("\n--- Loop Tests ---");
    
    // 38. Loop with i256 counter
    let counter: i256 = 0;
    let limit: i256 = 5;
    while counter < limit {
        counter++;
    }
    io::Println("38. while loop i256: " + counter);
    
    io::Println("\n=== Tests Complete ===");
}

fn addI256(x: i256, y: i256) -> i256 {
    return x + y;
}

type BigPoint struct {
    .X: i256,
    .Y: i256
};
