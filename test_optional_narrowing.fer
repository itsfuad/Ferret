import "std/io";

fn main() {
    let opt: i32? = 42;
    
    // Basic narrowing
    if opt != none {
        io::Println(opt);  // Should print 42
    }
    
    // Nested narrowing
    let opt2: i32? = 10;
    if opt != none {
        if opt2 != none {
            io::Println(opt);   // Should print 42
            io::Println(opt2);  // Should print 10
        }
    }
    
    // Chained else-if
    let opt3: i32? = none;
    if opt3 != none {
        io::Println("opt3 has value");
    } else if opt != none {
        io::Println(opt);  // Should print 42
    } else {
        io::Println("neither has value");
    }
    
    io::Println("Done!");
}
