module Ferret/test_exists_simple

fn main() -> void {
  block b1 entry:
    %t1 = alloca bool
    %t2 = const str definitely_not_exists_xyz.txt
    %t3 = call fs::Exists(%t2) : bool
    store %t1, %t3
    %t4 = load bool %t1
    br_if %t4, b2, b4
  block b2 if.then:
    %t5 = const i64 20
    %t6 = const i32 1
    %t7 = call ferret_array_new(%t5, %t6) : []Printable
    %t8 = const str true
    %t9 = alloca union {i8, i16, i32, i64, u8, u16, u32, u64, f32, f64, str, byte, bool}
    %t10 = ptr_add i32 %t9, 0
    %t11 = const i32 10
    store %t10, %t11
    %t12 = ptr_add str %t9, 4
    store %t12, %t8
    call ferret_array_append(%t7, %t9) : bool
    call io::Println(%t7) : void
    br b3
  block b3 if.end:
    ret
  block b4 if.else:
    %t13 = const i64 20
    %t14 = const i32 1
    %t15 = call ferret_array_new(%t13, %t14) : []Printable
    %t16 = const str false
    %t17 = alloca union {i8, i16, i32, i64, u8, u16, u32, u64, f32, f64, str, byte, bool}
    %t18 = ptr_add i32 %t17, 0
    %t19 = const i32 10
    store %t18, %t19
    %t20 = ptr_add str %t17, 4
    store %t20, %t16
    call ferret_array_append(%t15, %t17) : bool
    call io::Println(%t15) : void
    br b3
}
