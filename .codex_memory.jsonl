{"ts":"2025-01-01T00:00:00Z","scope":"project","key":"ferret.mir.status","value":"Front-end pipeline complete through MIR: parse/resolve/typecheck/CFG/HIR-lower/MIR. C backend detached. MIR generation covers functions, blocks, if/else, while, match (literal patterns), calls, arithmetic, loads/stores, struct field access, fixed arrays, dynamic arrays. Fixed arrays now require consteval index (negatives allowed) with compile-time error T0028 for non-const; MIR uses constant ptr_add offsets (no runtime bounds checks). Dynamic arrays still emit runtime checks. Optionals/results/coalescing in MIR. Map indexing and map_set emit MIR map_get/map_set ops. Debug -d writes .mir files. Missing: MIR lowering for map literals, map iteration, for/foreach, range expr, dynamic array literals in expressions, result/catch paths, backend MIR->target. Decide runtime OOB behavior for dynamic arrays."}
{"ts":"2025-12-26T00:00:00Z","scope":"project","key":"ferret.mir.status","value":"Match lowering now emits MIR switch for switchable types (ints/bool/enums with const, unique cases), then mir.LowerSwitches rewrites switches to compare+CondBr chains before QBE codegen. QBE backend still reports unsupported for call_indirect, struct/array/map ops, optional/result ops, and switch (but switches are lowered away). Control-flow desugar for for/while marked done in TODO; remaining gaps: map literals/iteration, dynamic array literals in expressions, interfaces, function literals/closures, result/catch paths, backend targets and dynamic array OOB policy."}
{"ts":"2025-12-26T00:00:00Z","scope":"project","key":"ferret.mir.status","value":"MIR lowering now supports dynamic array literals by calling ferret_array_new/ferret_array_append; TODO updated to mark dynamic array literals done. Map literals/iteration and optional/result backend support still pending."}
{"ts":"2025-12-26T00:00:00Z","scope":"project","key":"ferret.mir.status","value":"Builtins: len() for arrays/maps and append() for dynamic arrays now typecheck and lower in MIR. Resolver allows builtin calls; MIR lowers len to array/map size and append to ferret_array_append with element temps. Map literals/iteration and optional/result backend support still pending."}
{"ts":"2025-12-26T00:00:00Z","scope":"project","key":"ferret.runtime.status","value":"Added runtime panic helper (ferret_panic) and bounds-check OOB now calls it before Unreachable; build includes runtime/panic.c. QBE Unreachable still emits ret, but panic aborts first."}
{"ts":"2025-12-26T00:00:00Z","scope":"project","key":"ferret.runtime.status","value":"Runtime OOB policy decided: dynamic array bounds checks call ferret_panic (prints message + abort) before Unreachable; panic.c linked in build."}
