// Test struct literals and methods

// Define a named struct type
type Point struct {
    .x: f64,
    .y: f64
};

// Define a method on Point
fn (p: Point) distance() -> f64 {
    return p.x * p.x + p.y * p.y;
}

// Another method
fn (p: Point) scale(factor: f64) -> Point {
    let result := {.x = p.x * factor, .y = p.y * factor} as Point;
    return result;
}

// Test struct literal with explicit type
let p1: Point = {.x = 3.0, .y = 4.0} as Point;

// Test field access
let x_val := p1.x;
let y_val := p1.y;

// Test method call
let dist := p1.distance();

// Test method returning struct
let p2 := p1.scale(2.0);

// Test anonymous struct (should work for variables, but not methods)
let anon := {.a = 10, .b = 20};
let a_val := anon.a;
